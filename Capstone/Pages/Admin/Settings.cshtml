@page
@model Capstone.Pages.Admin.SettingsModel
@{
    ViewData["Title"] = "Settings";
    Layout = "_AdminLayout";
}

<div class="container mt-5">
    <h1 class="text-center mb-4">Settings</h1>

    <div class="accordion" id="settingsAccordion">

        <!-- Profile Settings -->
        <div class="accordion-item mb-3">
            <h2 class="accordion-header" id="headingProfile">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseProfile" aria-expanded="true" aria-controls="collapseProfile">
                    Profile Settings
                </button>
            </h2>
            <div id="collapseProfile" class="accordion-collapse collapse show" aria-labelledby="headingProfile" data-bs-parent="#settingsAccordion">
                <div class="accordion-body">
                    <p>Update your profile details below:</p>
                    <form method="post" asp-page-handler="ProfileSettings">
                        <div class="mb-3">
                            <label for="displayName" class="form-label">Display Name</label>
                            <input type="text" class="form-control" id="displayName" name="DisplayName" value="@Model.DisplayName">
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="email" name="Email" value="@Model.Email">
                        </div>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Account Settings -->
        <div class="accordion-item mb-3">
            <h2 class="accordion-header" id="headingAccount">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAccount" aria-expanded="false" aria-controls="collapseAccount">
                    Account Settings
                </button>
            </h2>
            <div id="collapseAccount" class="accordion-collapse collapse" aria-labelledby="headingAccount" data-bs-parent="#settingsAccordion">
                <div class="accordion-body">
                    <p>Change your account password for enhanced security:</p>
                    <form method="post" asp-page-handler="ChangePassword">
                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="password" asp-for="Password" placeholder="Enter new password">
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                            <input type="password" class="form-control" id="confirmPassword" asp-for="ConfirmPassword" placeholder="Confirm new password">
                        </div>
                        <button type="submit" class="btn btn-primary">Update Password</button>
                    </form>

                </div>
            </div>
        </div>

        <!-- Notification Settings -->
        <div class="accordion-item mb-3">
            <h2 class="accordion-header" id="headingNotifications">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseNotifications" aria-expanded="false" aria-controls="collapseNotifications">
                    Notification Settings
                </button>
            </h2>
            <div id="collapseNotifications" class="accordion-collapse collapse" aria-labelledby="headingNotifications" data-bs-parent="#settingsAccordion">
                <div class="accordion-body">
                    <p>Manage your notification preferences below:</p>
                    <form method="post" asp-page-handler="NotificationSettings">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="emailNotifications" asp-for="EmailNotifications" />
                            <label class="form-check-label" for="emailNotifications">Enable Email Notifications</label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="smsNotifications" asp-for="SmsNotifications" />
                            <label class="form-check-label" for="smsNotifications">Enable SMS Notifications</label>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Notification Settings</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Privacy Settings -->
        <div class="accordion-item mb-3">
            <h2 class="accordion-header" id="headingPrivacy">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePrivacy" aria-expanded="false" aria-controls="collapsePrivacy">
                    Privacy Settings
                </button>
            </h2>
            <div id="collapsePrivacy" class="accordion-collapse collapse" aria-labelledby="headingPrivacy" data-bs-parent="#settingsAccordion">
                <div class="accordion-body">
                    <p>Adjust your privacy preferences:</p>
                    <form method="post" asp-page-handler="PrivacySettings">
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="profileVisibility" asp-for="ProfileVisibility">
                            <label class="form-check-label" for="profileVisibility">Make profile visible to others</label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="dataSharing" asp-for="DataSharing">
                            <label class="form-check-label" for="dataSharing">Allow data sharing with third-party services</label>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Privacy Settings</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Theme Settings -->
        <div class="accordion-item mb-3">
            <h2 class="accordion-header" id="headingTheme">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTheme" aria-expanded="false" aria-controls="collapseTheme">
                    Theme Settings
                </button>
            </h2>
            <div id="collapseTheme" class="accordion-collapse collapse" aria-labelledby="headingTheme" data-bs-parent="#settingsAccordion">
                <div class="accordion-body">
                    <p>Choose your preferred theme:</p>
                    <form method="post" asp-page-handler="ThemeSettings">
                        <label for="themeSelect" class="form-label">Select Theme</label>
                        <select class="form-select" id="themeSelect" name="ThemeSelect">
                            <option value="light" selected="@(Model.ThemeSelect == "light" ? "selected" : null)">Light</option>
                            <option value="dark" selected="@(Model.ThemeSelect == "dark" ? "selected" : null)">Dark</option>
                            <option value="system" selected="@(Model.ThemeSelect == "system" ? "selected" : null)">System Default</option>
                        </select>
                        <button type="submit" class="btn btn-primary mt-3">Save Theme Settings</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap CSS -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>


<!-- Custom CSS for Styling -->
<style>
    .accordion-item {
        border-radius: 8px;
        border: none;
    }

    .accordion-button {
        background-color: #f1f1f1;
        border-radius: 8px;
        font-size: 1.1rem;
        color: #333;
    }

        .accordion-button:not(.collapsed) {
            background-color: #007bff;
            color: #fff;
        }

    .accordion-body {
        background-color: #fafafa;
    }

    .form-control, .form-select {
        border-radius: 5px;
    }

    .btn-primary {
        background-color: #007bff;
        border: none;
        transition: background-color 0.3s ease;
    }

        .btn-primary:hover {
            background-color: #0056b3;
        }
</style>
