@page
@model Capstone.Pages.Admin.Admin_DashboardModel
@{
    ViewData["Title"] = "Dashboard";
    Layout = "_AdminLayout";
}

<!-- Outer Container for Background -->
<div class="outer-container bg-light rounded-4 p-5 mt-4 mx-auto">

    <!-- Announcement Section -->
    <div class="alert alert-info d-flex align-items-center shadow-sm p-3 rounded mb-4">
        <i class="bi bi-megaphone-fill me-3 text-primary" style="font-size: 2rem;"></i>
        <div>
            <strong>Announcement:</strong> The next system maintenance is scheduled for August 15, 2024. Please save your work in advance.
        </div>
    </div>

    <!-- Page Title -->
    <div class="row mb-4">
        <div class="col text-left">
            <h5 class="display-5 fw-bold text-dark">Dashboard - Fiesta Carnival</h5>
        </div>
    </div>

    <!-- Info Boxes -->
    <div class="row text-center">
        <div class="col-md-4 mb-3">
            <div class="info-card bg-white border-0 shadow-sm rounded-3 p-4">
                <i class="bi bi-calendar-check text-primary" style="font-size: 2.5rem;"></i>
                <div class="info-text mt-2">
                    <h5 class="fw-bold">August 1</h5>
                    <p class="text-muted">2024</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="info-card bg-white border-0 shadow-sm rounded-3 p-4">
                <i class="bi bi-people-fill text-primary" style="font-size: 2.5rem;"></i>
                <div class="info-text mt-2">
                    <h5 class="fw-bold">12</h5>
                    <p class="text-muted">Visitors</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="info-card bg-white border-0 shadow-sm rounded-3 p-4">
                <i class="bi bi-currency-dollar text-primary" style="font-size: 2.5rem;"></i>
                <div class="info-text mt-2">
                    <h5 class="fw-bold">₱5988</h5>
                    <p class="text-muted">Total Sales</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Filter Section -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="fw-bold text-muted">Transaction Overview</h3>
        <form method="post" class="d-inline-block">
            <select name="StatusFilter" class="form-select w-auto border-2 shadow-sm" onchange="this.form.submit()">
                <option value="">All</option>
                <option value="Online" selected="@((Model.StatusFilter == "Online") ? true : false)">Online</option>
                <option value="Offline" selected="@((Model.StatusFilter == "Offline") ? true : false)">Offline</option>
            </select>
        </form>
    </div>

    <!-- Transaction Table -->
    <div class="row">
        <div class="col-12">
            <div class="transaction-table bg-white shadow-sm rounded-3 p-3">
                <div class="table-responsive">
                    <table class="table table-striped table-hover align-middle text-center">
                        <thead class="table-light">
                            <tr>
                                <th>Transaction Number</th>
                                <th>Wiiband</th>
                                <th>Start Time</th>
                                <th>End Time</th>
                                <th>Remaining Time</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var transaction in Model.Transactions)
                            {
                                <tr>
                                    <td>@transaction.TransactionNumber</td>
                                    <td>@transaction.Wiiband</td>
                                    <td>@transaction.StartTime</td>
                                    <td>@transaction.EndTime</td>
                                    <td>@transaction.RemainingTime</td>
                                    <td>
                                        <a asp-page="/Admin/Addons/DeactivateConfirmation" asp-route-transactionNumber="@transaction.TransactionNumber" class="btn btn-outline-danger btn-sm">
                                            Deactivate
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Enhanced Minimalist CSS Style -->
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, sans-serif;
        background-color: #f8f9fa;
    }

    /* Outer container for background */
    .outer-container {
        max-width: 1440px; /* Increased container width */
        background-color: #ffffff;
        padding: 50px;
        border-radius: 15px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    }

    /* Icon Styles */
    .icon {
        font-size: 3rem;
    }

    /* Info Card Styling */
    .info-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 15px;
        transition: all 0.3s ease;
    }

    .info-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
    }

    /* Table and Button Styles */
    table {
        width: 100%;
    }

    th, td {
        padding: 12px;
    }

    th {
        background-color: #f8f9fa;
        color: #333;
    }

    td {
        color: #333;
    }

    tr:hover {
        background-color: #f1f1f1;
    }

    /* Badge Styles */
    .badge {
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
        border-radius: 15px;
        font-weight: 600;
    }

    /* Button Hover Effect */
    .btn:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transform: translateY(-2px);
    }

    .btn-outline-danger {
        border-color: #dc3545;
        color: #dc3545;
    }

    .btn-outline-danger:hover {
        background-color: #dc3545;
        color: white;
    }

    /* Responsive Styles */
    @@media (max-width: 768px) {
        .info-card {
            text-align: center;
        }
    }
</style>
